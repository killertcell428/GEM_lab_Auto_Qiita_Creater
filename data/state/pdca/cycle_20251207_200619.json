{
  "cycle_id": "cycle_20251207_200619",
  "article_id": "article_20251207_200619",
  "plan_result": {
    "topic": "CrewAIãƒ™ãƒ¼ã‚¹ã®Qiitaè¨˜äº‹è‡ªå‹•ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã®å‹•ä½œç¢ºèª",
    "research_report": "{\n  \"title\": \"Difyã¨Gemini LLMã‚’æ´»ç”¨ã—ãŸãƒã‚¤ã‚ªã‚¤ãƒ³ãƒ•ã‚©ãƒãƒ†ã‚£ã‚¯ã‚¹å‘ã‘RAGãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆæ§‹ç¯‰ã¨BigQueryé€£æºå®Ÿè£…ã‚¬ã‚¤ãƒ‰\",\n  \"target_audience\": \"ãƒã‚¤ã‚ªã‚¤ãƒ³ãƒ•ã‚©ãƒãƒ†ã‚£ã‚¯ã‚¹ç ”ç©¶è€…ãƒ»ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã€AIãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆé–‹ç™ºè€…ã€ã‚¯ãƒ©ã‚¦ãƒ‰æŠ€è¡“è€…ã€Qiitaè¨˜äº‹è‡ªå‹•æŠ•ç¨¿ã«é–¢å¿ƒã®ã‚ã‚‹ä¸­ç´šä»¥ä¸Šã®ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼\",\n  \"sections\": [\n    {\n      \"heading\": \"å°å…¥ï¼šAIãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã¨RAGãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆã®é‡è¦æ€§\",\n      \"content_outline\": \"è¿‘å¹´ã®AIå¤§è¦æ¨¡è¨€èªãƒ¢ãƒ‡ãƒ«ã‚„ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®é€²å±•èƒŒæ™¯ã‚’èª¬æ˜ã—ã€ãƒã‚¤ã‚ªã‚¤ãƒ³ãƒ•ã‚©ãƒãƒ†ã‚£ã‚¯ã‚¹é ˜åŸŸã§ã®æƒ…å ±æ•´ç†ãƒ»å…±æœ‰èª²é¡Œã¨RAGãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆã§ã®è§£æ±ºã®å¿…è¦æ€§ã‚’ç¤ºã™ã€‚\",\n      \"code_examples\": []\n    },\n    {\n      \"heading\": \"Difyãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã¨Gemini LLMã®æ¦‚è¦\",\n      \"content_outline\": \"Difyã«ã‚ˆã‚‹ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ã®æ–‡ç« ãƒãƒ£ãƒ³ã‚¯åˆ†å‰²ã¨åŸ‹ã‚è¾¼ã¿æ¤œç´¢æ©Ÿèƒ½ã€Google Cloud Vertex AIä¸Šã®Gemini LLMã®ç‰¹å¾´ã¨æ´»ç”¨ä¾‹ã‚’ç´¹ä»‹ã™ã‚‹ã€‚\",\n      \"code_examples\": []\n    },\n    {\n      \"heading\": \"æŠ€è¡“çš„ä»•çµ„ã¿ï¼šRAGï¼ˆæ¤œç´¢æ‹¡å¼µç”Ÿæˆï¼‰ã¨BigQueryè©•ä¾¡ãƒ­ã‚°åŸºç›¤\",\n      \"content_outline\": \"æ–‡ç« ãƒãƒ£ãƒ³ã‚¯ã®å†å¸°åˆ†å‰²ã¨é‡è¤‡ãƒãƒ£ãƒ³ã‚¯æˆ¦ç•¥ã€åŸ‹ã‚è¾¼ã¿ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢ã®å…·ä½“æŠ€è¡“ã‚’è§£èª¬ã€‚BigQueryä¸Šã«è¨­è¨ˆã—ãŸè¤‡æ•°ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹é€ ã«ã‚ˆã‚‹LLMæ¨è«–ãƒ»è©•ä¾¡ãƒ­ã‚°ç®¡ç†æ–¹æ³•ã‚‚è©³èª¬ã€‚\",\n      \"code_examples\": []\n    },\n    {\n      \"heading\": \"å®Ÿè·µç·¨ï¼šDifyã§ã®ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹æ§‹ç¯‰ã¨Pythonã«ã‚ˆã‚‹é–¢é€£æ¤œç´¢ï¼‹å¿œç­”ç”Ÿæˆ\",\n      \"content_outline\": \"Dify GUIã‚’ç”¨ã„ãŸãƒãƒ£ãƒ³ã‚¯ä½œæˆãƒ»æ¤œç´¢è¨­å®šæ“ä½œæ‰‹é †ã‚’ç¤ºã—ã€Pythonæ“¬ä¼¼ã‚³ãƒ¼ãƒ‰ã§ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢ã—Gemini APIã§å›ç­”ã‚’å¾—ã‚‹æµã‚Œã‚’ç¤ºã™ã€‚\",\n      \"code_examples\": [\n        \"Dify GUIã§ãƒ†ã‚­ã‚¹ãƒˆã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ»ãƒãƒ£ãƒ³ã‚¯è­˜åˆ¥è¨­å®šæ‰‹é †\",\n        \"Pythonæ“¬ä¼¼ã‚³ãƒ¼ãƒ‰ã§ã®åŸ‹ã‚è¾¼ã¿æ¤œç´¢ã¨Gemini APIå‘¼ã³å‡ºã—ä¾‹\"\n      ]\n    },\n    {\n      \"heading\": \"å¿œç”¨ãƒ»ç™ºå±•ç·¨ï¼šãƒã‚¤ã‚ªãƒ‡ãƒ¼ã‚¿è§£æã¸ã®å¿œç”¨äº‹ä¾‹ã¨Next.jsã«ã‚ˆã‚‹Webæœ€é©åŒ–\",\n      \"content_outline\": \"ã‚²ãƒãƒ è§£æãƒ»RNA-seqè§£æè«–æ–‡ã®RAGæ´»ç”¨ä¾‹ã€BigQueryãƒ­ã‚°ã‚’ä½¿ã£ãŸæ€§èƒ½åˆ†æã€Next.js proxy.tsã«ã‚ˆã‚‹ãƒ—ãƒªãƒ•ã‚§ãƒƒãƒåˆ¶å¾¡ã§ã®WebUIæœ€é©åŒ–ä¾‹ã‚’ç´¹ä»‹ã€‚\",\n      \"code_examples\": [\n        \"BigQueryã‚¹ã‚­ãƒ¼ãƒè¨­è¨ˆä¾‹ï¼ˆæ¨è«–ãƒ»ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ»è©•ä¾¡ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰\",\n        \"Next.js proxy.tsã®ãƒ—ãƒªãƒ•ã‚§ãƒƒãƒåˆ¶å¾¡ã‚³ãƒ¼ãƒ‰æŠœç²‹\"\n      ]\n    },\n    {\n      \"heading\": \"ã¾ã¨ã‚\",\n      \"content_outline\": \"æœ¬è¨˜äº‹ã®æŠ€è¡“æ¦‚è¦ã¨å¾—ã‚‰ã‚Œã‚‹åŠ¹æœã‚’å†ç¢ºèªã—ã€ä»Šå¾Œã®å±•æœ›ï¼ˆLLMé€£æºã®æ·±åŒ–ã€è§£æDXåŠ é€Ÿï¼‰ã«ã¤ã„ã¦è¨€åŠã€‚\",\n      \"code_examples\": []\n    },\n    {\n      \"heading\": \"FAQ\",\n      \"content_outline\": \"ã‚ˆãã‚ã‚‹è³ªå•é›†ã€‚Gemini LLMã®ç‰¹å¾´ã€Difyãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ åˆ©ç”¨æ™‚ã®æ³¨æ„ã€ãƒ­ã‚°åŸºç›¤ã®æ‹¡å¼µæ€§ãªã©ã€‚\",\n      \"code_examples\": []\n    },\n    {\n      \"heading\": \"å‚è€ƒæ–‡çŒ®ãƒ»ãƒªãƒ³ã‚¯é›†\",\n      \"content_outline\": \"è¨˜äº‹å†…ã§è¨€åŠã—ãŸã‚µãƒ¼ãƒ“ã‚¹ãƒ»ãƒ„ãƒ¼ãƒ«ãƒ»é–¢é€£Qiitaè¨˜äº‹ã®URLã‚’ä¸€è¦§åŒ–ã€‚\",\n      \"code_examples\": []\n    }\n  ],\n  \"code_placement\": [\n    {\n      \"section\": \"å®Ÿè·µç·¨ï¼šDifyã§ã®ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹æ§‹ç¯‰ã¨Pythonã«ã‚ˆã‚‹é–¢é€£æ¤œç´¢ï¼‹å¿œç­”ç”Ÿæˆ\",\n      \"description\": \"Dify GUIæ“ä½œæ‰‹é †ã®èª¬æ˜ã‚³ãƒ¼ãƒ‰ã‚¹ãƒ‹ãƒšãƒƒãƒˆã¨Pythonã§ã®åŸ‹ã‚è¾¼ã¿æ¤œç´¢ã€Gemini APIå‘¼ã³å‡ºã—ã®æ“¬ä¼¼ã‚³ãƒ¼ãƒ‰ä¾‹ã‚’é…ç½®\"\n    },\n    {\n      \"section\": \"å¿œç”¨ãƒ»ç™ºå±•ç·¨ï¼šãƒã‚¤ã‚ªãƒ‡ãƒ¼ã‚¿è§£æã¸ã®å¿œç”¨äº‹ä¾‹ã¨Next.jsã«ã‚ˆã‚‹Webæœ€é©åŒ–\",\n      \"description\": \"BigQueryã®è©•ä¾¡ãƒ­ã‚°åŸºç›¤æ§‹é€ è¨­è¨ˆä¾‹ã‚³ãƒ¼ãƒ‰ã¨Next.js proxy.tsã®ãƒ—ãƒªãƒ•ã‚§ãƒƒãƒåˆ¶å¾¡ã‚³ãƒ¼ãƒ‰æ–­ç‰‡ã‚’æ²è¼‰\"\n    }\n  ],\n  \"continuity\": \"éå»è¨˜äº‹ã§ã¯Pythonã¨GitHub Actionsã‚’ç”¨ã„ãŸQiitaè¨˜äº‹æŠ•ç¨¿è‡ªå‹•åŒ–ã«ç„¦ç‚¹ã‚’å½“ã¦ã¦ã„ãŸãŒã€æœ¬è¨˜äº‹ã§ã¯ãã®æŠ€è¡“ã‚’ç™ºå±•ã•ã›ã€Difyã‚„Gemini LLMã‚’ç”¨ã„ãŸAIãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹æ§‹ç¯‰ãŠã‚ˆã³ãƒã‚¤ã‚ªã‚¤ãƒ³ãƒ•ã‚©é ˜åŸŸã¸ã®å¿œç”¨ã‚’åŠ ãˆã‚‹ã“ã¨ã§ã€è‡ªå‹•åŒ–ã‹ã‚‰AIæ´»ç”¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆã¸ã®é€£ç¶šçš„ãªã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã‚’æãã€‚\",\n  \"improvements\": [\n    \"éå»è¨˜äº‹ã«ã‚ã£ãŸç’°å¢ƒæ§‹ç¯‰ã®è©³ç´°ã«åŠ ãˆã€ãƒãƒ¼ã‚³ãƒ¼ãƒ‰æ“ä½œGUIã‚„ã‚³ãƒ¼ãƒ‰æ··åœ¨å‹ã®è§£èª¬ã§å…¥é–€è€…ã®ç†è§£ã‚’ä¿ƒé€²\",\n    \"ã‚³ãƒ¼ãƒ‰ä¾‹ã‚’å¤šå±¤çš„ã«ç”¨æ„ã—ã€æ‰‹é †ã®åˆ‡ã‚Šåˆ†ã‘ã¨å¿œç”¨ä¾‹ã®æç¤ºã§èª­è€…ã®å®Ÿè·µæ„æ¬²ã‚’é«˜ã‚ã‚‹\",\n    \"ãƒã‚¤ã‚ªã‚¤ãƒ³ãƒ•ã‚©ãƒãƒ†ã‚£ã‚¯ã‚¹ç‰¹æœ‰ã®å¿œç”¨ã‚·ãƒŠãƒªã‚ªã‚’å¼·èª¿ã—ã€å°‚é–€é ˜åŸŸãƒ¦ãƒ¼ã‚¶ãƒ¼ã®é–¢å¿ƒã‚’å–šèµ·\",\n    \"FAQã‚„å‚è€ƒæ–‡çŒ®ã‚’å……å®Ÿã•ã›ã€è¨˜äº‹ã®ç¶™ç¶šçš„æ´»ç”¨ãƒ»ãƒªãƒ³ã‚¯å…±æœ‰ã‚’ä¿ƒé€²\"\n  ]\n}",
    "plan": {
      "title": "Difyã¨Gemini LLMã‚’æ´»ç”¨ã—ãŸãƒã‚¤ã‚ªã‚¤ãƒ³ãƒ•ã‚©ãƒãƒ†ã‚£ã‚¯ã‚¹å‘ã‘RAGãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆæ§‹ç¯‰ã¨BigQueryé€£æºå®Ÿè£…ã‚¬ã‚¤ãƒ‰",
      "target_audience": "ãƒã‚¤ã‚ªã‚¤ãƒ³ãƒ•ã‚©ãƒãƒ†ã‚£ã‚¯ã‚¹ç ”ç©¶è€…ãƒ»ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã€AIãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆé–‹ç™ºè€…ã€ã‚¯ãƒ©ã‚¦ãƒ‰æŠ€è¡“è€…ã€Qiitaè¨˜äº‹è‡ªå‹•æŠ•ç¨¿ã«é–¢å¿ƒã®ã‚ã‚‹ä¸­ç´šä»¥ä¸Šã®ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼",
      "sections": [
        {
          "heading": "å°å…¥ï¼šAIãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã¨RAGãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆã®é‡è¦æ€§",
          "content_outline": "è¿‘å¹´ã®AIå¤§è¦æ¨¡è¨€èªãƒ¢ãƒ‡ãƒ«ã‚„ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®é€²å±•èƒŒæ™¯ã‚’èª¬æ˜ã—ã€ãƒã‚¤ã‚ªã‚¤ãƒ³ãƒ•ã‚©ãƒãƒ†ã‚£ã‚¯ã‚¹é ˜åŸŸã§ã®æƒ…å ±æ•´ç†ãƒ»å…±æœ‰èª²é¡Œã¨RAGãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆã§ã®è§£æ±ºã®å¿…è¦æ€§ã‚’ç¤ºã™ã€‚",
          "code_examples": []
        },
        {
          "heading": "Difyãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã¨Gemini LLMã®æ¦‚è¦",
          "content_outline": "Difyã«ã‚ˆã‚‹ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ã®æ–‡ç« ãƒãƒ£ãƒ³ã‚¯åˆ†å‰²ã¨åŸ‹ã‚è¾¼ã¿æ¤œç´¢æ©Ÿèƒ½ã€Google Cloud Vertex AIä¸Šã®Gemini LLMã®ç‰¹å¾´ã¨æ´»ç”¨ä¾‹ã‚’ç´¹ä»‹ã™ã‚‹ã€‚",
          "code_examples": []
        },
        {
          "heading": "æŠ€è¡“çš„ä»•çµ„ã¿ï¼šRAGï¼ˆæ¤œç´¢æ‹¡å¼µç”Ÿæˆï¼‰ã¨BigQueryè©•ä¾¡ãƒ­ã‚°åŸºç›¤",
          "content_outline": "æ–‡ç« ãƒãƒ£ãƒ³ã‚¯ã®å†å¸°åˆ†å‰²ã¨é‡è¤‡ãƒãƒ£ãƒ³ã‚¯æˆ¦ç•¥ã€åŸ‹ã‚è¾¼ã¿ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢ã®å…·ä½“æŠ€è¡“ã‚’è§£èª¬ã€‚BigQueryä¸Šã«è¨­è¨ˆã—ãŸè¤‡æ•°ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹é€ ã«ã‚ˆã‚‹LLMæ¨è«–ãƒ»è©•ä¾¡ãƒ­ã‚°ç®¡ç†æ–¹æ³•ã‚‚è©³èª¬ã€‚",
          "code_examples": []
        },
        {
          "heading": "å®Ÿè·µç·¨ï¼šDifyã§ã®ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹æ§‹ç¯‰ã¨Pythonã«ã‚ˆã‚‹é–¢é€£æ¤œç´¢ï¼‹å¿œç­”ç”Ÿæˆ",
          "content_outline": "Dify GUIã‚’ç”¨ã„ãŸãƒãƒ£ãƒ³ã‚¯ä½œæˆãƒ»æ¤œç´¢è¨­å®šæ“ä½œæ‰‹é †ã‚’ç¤ºã—ã€Pythonæ“¬ä¼¼ã‚³ãƒ¼ãƒ‰ã§ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢ã—Gemini APIã§å›ç­”ã‚’å¾—ã‚‹æµã‚Œã‚’ç¤ºã™ã€‚",
          "code_examples": [
            "Dify GUIã§ãƒ†ã‚­ã‚¹ãƒˆã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ»ãƒãƒ£ãƒ³ã‚¯è­˜åˆ¥è¨­å®šæ‰‹é †",
            "Pythonæ“¬ä¼¼ã‚³ãƒ¼ãƒ‰ã§ã®åŸ‹ã‚è¾¼ã¿æ¤œç´¢ã¨Gemini APIå‘¼ã³å‡ºã—ä¾‹"
          ]
        },
        {
          "heading": "å¿œç”¨ãƒ»ç™ºå±•ç·¨ï¼šãƒã‚¤ã‚ªãƒ‡ãƒ¼ã‚¿è§£æã¸ã®å¿œç”¨äº‹ä¾‹ã¨Next.jsã«ã‚ˆã‚‹Webæœ€é©åŒ–",
          "content_outline": "ã‚²ãƒãƒ è§£æãƒ»RNA-seqè§£æè«–æ–‡ã®RAGæ´»ç”¨ä¾‹ã€BigQueryãƒ­ã‚°ã‚’ä½¿ã£ãŸæ€§èƒ½åˆ†æã€Next.js proxy.tsã«ã‚ˆã‚‹ãƒ—ãƒªãƒ•ã‚§ãƒƒãƒåˆ¶å¾¡ã§ã®WebUIæœ€é©åŒ–ä¾‹ã‚’ç´¹ä»‹ã€‚",
          "code_examples": [
            "BigQueryã‚¹ã‚­ãƒ¼ãƒè¨­è¨ˆä¾‹ï¼ˆæ¨è«–ãƒ»ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ»è©•ä¾¡ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰",
            "Next.js proxy.tsã®ãƒ—ãƒªãƒ•ã‚§ãƒƒãƒåˆ¶å¾¡ã‚³ãƒ¼ãƒ‰æŠœç²‹"
          ]
        },
        {
          "heading": "ã¾ã¨ã‚",
          "content_outline": "æœ¬è¨˜äº‹ã®æŠ€è¡“æ¦‚è¦ã¨å¾—ã‚‰ã‚Œã‚‹åŠ¹æœã‚’å†ç¢ºèªã—ã€ä»Šå¾Œã®å±•æœ›ï¼ˆLLMé€£æºã®æ·±åŒ–ã€è§£æDXåŠ é€Ÿï¼‰ã«ã¤ã„ã¦è¨€åŠã€‚",
          "code_examples": []
        },
        {
          "heading": "FAQ",
          "content_outline": "ã‚ˆãã‚ã‚‹è³ªå•é›†ã€‚Gemini LLMã®ç‰¹å¾´ã€Difyãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ åˆ©ç”¨æ™‚ã®æ³¨æ„ã€ãƒ­ã‚°åŸºç›¤ã®æ‹¡å¼µæ€§ãªã©ã€‚",
          "code_examples": []
        },
        {
          "heading": "å‚è€ƒæ–‡çŒ®ãƒ»ãƒªãƒ³ã‚¯é›†",
          "content_outline": "è¨˜äº‹å†…ã§è¨€åŠã—ãŸã‚µãƒ¼ãƒ“ã‚¹ãƒ»ãƒ„ãƒ¼ãƒ«ãƒ»é–¢é€£Qiitaè¨˜äº‹ã®URLã‚’ä¸€è¦§åŒ–ã€‚",
          "code_examples": []
        }
      ],
      "code_placement": [
        {
          "section": "å®Ÿè·µç·¨ï¼šDifyã§ã®ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹æ§‹ç¯‰ã¨Pythonã«ã‚ˆã‚‹é–¢é€£æ¤œç´¢ï¼‹å¿œç­”ç”Ÿæˆ",
          "description": "Dify GUIæ“ä½œæ‰‹é †ã®èª¬æ˜ã‚³ãƒ¼ãƒ‰ã‚¹ãƒ‹ãƒšãƒƒãƒˆã¨Pythonã§ã®åŸ‹ã‚è¾¼ã¿æ¤œç´¢ã€Gemini APIå‘¼ã³å‡ºã—ã®æ“¬ä¼¼ã‚³ãƒ¼ãƒ‰ä¾‹ã‚’é…ç½®"
        },
        {
          "section": "å¿œç”¨ãƒ»ç™ºå±•ç·¨ï¼šãƒã‚¤ã‚ªãƒ‡ãƒ¼ã‚¿è§£æã¸ã®å¿œç”¨äº‹ä¾‹ã¨Next.jsã«ã‚ˆã‚‹Webæœ€é©åŒ–",
          "description": "BigQueryã®è©•ä¾¡ãƒ­ã‚°åŸºç›¤æ§‹é€ è¨­è¨ˆä¾‹ã‚³ãƒ¼ãƒ‰ã¨Next.js proxy.tsã®ãƒ—ãƒªãƒ•ã‚§ãƒƒãƒåˆ¶å¾¡ã‚³ãƒ¼ãƒ‰æ–­ç‰‡ã‚’æ²è¼‰"
        }
      ],
      "continuity": "éå»è¨˜äº‹ã§ã¯Pythonã¨GitHub Actionsã‚’ç”¨ã„ãŸQiitaè¨˜äº‹æŠ•ç¨¿è‡ªå‹•åŒ–ã«ç„¦ç‚¹ã‚’å½“ã¦ã¦ã„ãŸãŒã€æœ¬è¨˜äº‹ã§ã¯ãã®æŠ€è¡“ã‚’ç™ºå±•ã•ã›ã€Difyã‚„Gemini LLMã‚’ç”¨ã„ãŸAIãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹æ§‹ç¯‰ãŠã‚ˆã³ãƒã‚¤ã‚ªã‚¤ãƒ³ãƒ•ã‚©é ˜åŸŸã¸ã®å¿œç”¨ã‚’åŠ ãˆã‚‹ã“ã¨ã§ã€è‡ªå‹•åŒ–ã‹ã‚‰AIæ´»ç”¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆã¸ã®é€£ç¶šçš„ãªã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã‚’æãã€‚",
      "improvements": [
        "éå»è¨˜äº‹ã«ã‚ã£ãŸç’°å¢ƒæ§‹ç¯‰ã®è©³ç´°ã«åŠ ãˆã€ãƒãƒ¼ã‚³ãƒ¼ãƒ‰æ“ä½œGUIã‚„ã‚³ãƒ¼ãƒ‰æ··åœ¨å‹ã®è§£èª¬ã§å…¥é–€è€…ã®ç†è§£ã‚’ä¿ƒé€²",
        "ã‚³ãƒ¼ãƒ‰ä¾‹ã‚’å¤šå±¤çš„ã«ç”¨æ„ã—ã€æ‰‹é †ã®åˆ‡ã‚Šåˆ†ã‘ã¨å¿œç”¨ä¾‹ã®æç¤ºã§èª­è€…ã®å®Ÿè·µæ„æ¬²ã‚’é«˜ã‚ã‚‹",
        "ãƒã‚¤ã‚ªã‚¤ãƒ³ãƒ•ã‚©ãƒãƒ†ã‚£ã‚¯ã‚¹ç‰¹æœ‰ã®å¿œç”¨ã‚·ãƒŠãƒªã‚ªã‚’å¼·èª¿ã—ã€å°‚é–€é ˜åŸŸãƒ¦ãƒ¼ã‚¶ãƒ¼ã®é–¢å¿ƒã‚’å–šèµ·",
        "FAQã‚„å‚è€ƒæ–‡çŒ®ã‚’å……å®Ÿã•ã›ã€è¨˜äº‹ã®ç¶™ç¶šçš„æ´»ç”¨ãƒ»ãƒªãƒ³ã‚¯å…±æœ‰ã‚’ä¿ƒé€²"
      ]
    }
  },
  "do_result": {
    "content": "# Difyã¨Gemini LLMã‚’æ´»ç”¨ã—ãŸãƒã‚¤ã‚ªã‚¤ãƒ³ãƒ•ã‚©ãƒãƒ†ã‚£ã‚¯ã‚¹å‘ã‘RAGãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆæ§‹ç¯‰ã¨BigQueryé€£æºå®Ÿè£…ã‚¬ã‚¤ãƒ‰\n\n> **å¯¾è±¡èª­è€…**  \n> ãƒã‚¤ã‚ªã‚¤ãƒ³ãƒ•ã‚©ãƒãƒ†ã‚£ã‚¯ã‚¹ç ”ç©¶è€…ãƒ»ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã€AIãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆé–‹ç™ºè€…ã€ã‚¯ãƒ©ã‚¦ãƒ‰æŠ€è¡“è€…ã€Qiitaè¨˜äº‹è‡ªå‹•æŠ•ç¨¿ã«é–¢å¿ƒã®ã‚ã‚‹ä¸­ç´šä»¥ä¸Šã®ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼\n\n> **å‹•ä½œç¢ºèªç’°å¢ƒ / å‰ææ¡ä»¶**  \n> - OS: Ubuntu 22.04 LTS / macOS Monterey  \n> - Python 3.9ä»¥ä¸Š  \n> - Google Cloud SDKæœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³  \n> - BigQueryã‚¢ã‚¯ã‚»ã‚¹æ¨©é™  \n> - Difyã‚¢ã‚«ã‚¦ãƒ³ãƒˆï¼ˆç„¡æ–™ãƒ—ãƒ©ãƒ³å¯ï¼‰  \n> - Google Cloud Vertex AI Gemini LLMåˆ©ç”¨æ¨©é™  \n> - å‰æçŸ¥è­˜: Pythonãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°åŸºç¤ã€REST APIåˆ©ç”¨çµŒé¨“ã€GCPã®åŸºæœ¬æ“ä½œ\n\n> **ã“ã®è¨˜äº‹ã§å¾—ã‚‰ã‚Œã‚‹ã“ã¨**  \n> 1. Difyãƒãƒ¼ã‚³ãƒ¼ãƒ‰ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ãƒã‚¤ã‚ªçŸ¥è­˜ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã‚’æ§‹ç¯‰ã™ã‚‹æ‰‹é †  \n> 2. Pythonã§ã®Gemini LLMé€£æºã«ã‚ˆã‚‹åŸ‹ã‚è¾¼ã¿æ¤œç´¢ï¼‹è‡ªç„¶è¨€èªå¿œç­”ã®å®Ÿè£…ä¾‹  \n> 3. BigQueryã§ã®ãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆãƒ­ã‚°è“„ç©ã¨åˆ†æåŸºç›¤è¨­è¨ˆã€Next.jsã«ã‚ˆã‚‹Webæœ€é©åŒ–ä¾‹\n\n---\n\n## ğŸ§­ å°å…¥ï¼šAIãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã¨RAGãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆã®é‡è¦æ€§\n\nGEM Labã®è‹¥æ‰‹èª¿æŸ»å“¡ã¨ã—ã¦æ–°å¤§é™¸ã®æœªçŸ¥ç”Ÿå‘½ã®æ¢ç´¢èª¿æŸ»ã‚’é€²ã‚ã‚‹ä¸­ã€ã€Œå¤§é‡ã®ç ”ç©¶è«–æ–‡ã‚„è§£æå ±å‘Šã‚’ã©ã†åŠ¹ç‡çš„ã«æ´»ç”¨ãƒ»å…±æœ‰ã™ã‚‹ã‹ã€ãŒèª²é¡Œã¨ãªã‚Šã¾ã—ãŸã€‚ãƒã‚¤ã‚ªã‚¤ãƒ³ãƒ•ã‚©ãƒãƒ†ã‚£ã‚¯ã‚¹é ˜åŸŸã§ã¯ãƒ‡ãƒ¼ã‚¿ã‚‚çŸ¥è­˜ã‚‚è†¨å¤§ã§æ•£é€¸ã—ã‚„ã™ãã€èª¿æŸ»æ´»å‹•ã®è¿…é€Ÿãªæ„æ€æ±ºå®šã«æ”¯éšœã‚’ããŸã—ã¾ã™ã€‚\n\nã“ã†ã—ãŸèª²é¡Œã‚’è§£æ±ºã—ã¦ãã‚Œã‚‹ã®ãŒã€æœ€æ–°ã®AIå¤§è¦æ¨¡è¨€èªãƒ¢ãƒ‡ãƒ«ï¼ˆLLMï¼‰ã‚’ç”¨ã„ãŸ**RAGï¼ˆRetrieval-Augmented Generationï¼‰ãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆ**ã§ã™ã€‚RAGã¯çŸ¥è­˜æ¤œç´¢æ©Ÿèƒ½ã‚’çµ„ã¿åˆã‚ã›LLMã®ç”ŸæˆåŠ›ã§è‡ªç„¶è¨€èªå¿œç­”ã‚’è¡Œã„ã¾ã™ã€‚ç‰¹ã«Difyã®ã‚ˆã†ãªãƒãƒ¼ã‚³ãƒ¼ãƒ‰ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã¨ã€Google Cloudã®Gemini LLMã®çµ„ã¿åˆã‚ã›ã¯å°å…¥ã®æ•·å±…ãŒä½ãã€ã‹ã¤é«˜åº¦ãªå¯¾è©±ãŒå¯èƒ½ã§ã™ã€‚\n\næœ¬è¨˜äº‹ã§ã¯ã€GEM Labã®èª¿æŸ»å“¡ã®è¦–ç‚¹ã§ãƒã‚¤ã‚ªã‚¤ãƒ³ãƒ•ã‚©ãƒãƒ†ã‚£ã‚¯ã‚¹ç‰¹åŒ–å‹ãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆã®æ§‹ç¯‰ã‹ã‚‰ã€å¤§è¦æ¨¡è©•ä¾¡ãƒ­ã‚°ã®ç®¡ç†ã€WebUIæœ€é©åŒ–ã¾ã§ã®æŠ€è¡“çš„ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’å…·ä½“çš„ã«ç´¹ä»‹ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€èª­è€…ã®çš†ã•ã‚“ã«ã‚‚è‡ªåˆ†ã®ç ”ç©¶ã‚„äº‹æ¥­ã«é©ç”¨å¯èƒ½ãªæ±ç”¨æŠ€è¡“ã¨ã—ã¦ç¿’å¾—ã§ãã‚‹å†…å®¹ã¨ã—ã¦ã„ã¾ã™ã€‚\n\n---\n\n## ğŸ“˜ ãƒˆãƒ”ãƒƒã‚¯ã®æ¦‚è¦ï¼šDifyã¨Gemini LLMã§å®Ÿç¾ã™ã‚‹RAGãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆ\n\n### Difyãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã¨ã¯  \nDifyã¯ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ã§æ–‡ç« ã®ãƒãƒ£ãƒ³ã‚¯åˆ†å‰²ãƒ»åŸ‹ã‚è¾¼ã¿æ¤œç´¢ã‚’å®Ÿç¾ã§ãã‚‹ã‚¯ãƒ©ã‚¦ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚å¤§é‡æ–‡æ›¸ã‚’å°ã•ãªæƒ…å ±å˜ä½ã«åˆ†å‰²ï¼ˆãƒãƒ£ãƒ³ã‚¯åŒ–ï¼‰ã—ã€æ„å‘³çš„ã«è¿‘ã„æƒ…å ±ã‚’é«˜é€Ÿæ¤œç´¢ã§ãã¾ã™ã€‚GEM Labã®æœªçŸ¥ç”Ÿå‘½ãƒ‡ãƒ¼ã‚¿è§£æå ±å‘Šã‚‚ã“ã®æ–¹å¼ã§ç®¡ç†å¯èƒ½ã§ã™ã€‚\n\n### Gemini LLMã®ç‰¹å¾´  \nGoogle Cloud Vertex AIã§æä¾›ã•ã‚Œã‚‹Gemini LLMã¯ã€è†¨å¤§ãªç§‘å­¦è«–æ–‡ã‚„æŠ€è¡“ãƒ‡ãƒ¼ã‚¿ã‚’å­¦ç¿’ã—ãŸå¼·åŠ›ãªå¤§è¦æ¨¡è¨€èªãƒ¢ãƒ‡ãƒ«ã§ã™ã€‚æ¤œç´¢ã—ãŸæ–‡æ›¸ãƒãƒ£ãƒ³ã‚¯ã‚’å…¥åŠ›ã«æ–‡è„ˆã‚’ç†è§£ã—ã€è‡ªç„¶ãªå›ç­”ã‚’ç”Ÿæˆã—ã¾ã™ã€‚\n\n### RAGã®æŠ€è¡“èƒŒæ™¯  \nRAGã¯å¤§ã¾ã‹ã«2æ®µéšã«åˆ†ã‘ã‚‰ã‚Œã¾ã™ï¼š\n\n1. **Retrievalï¼ˆæ¤œç´¢ï¼‰**ï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è³ªå•ã«é–¢é€£ã™ã‚‹æ–‡æ›¸ãƒãƒ£ãƒ³ã‚¯ã‚’åŸ‹ã‚è¾¼ã¿ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢ã§ç‰¹å®š  \n2. **Augmented Generationï¼ˆæ‹¡å¼µç”Ÿæˆï¼‰**ï¼šGemini LLMã«æ¤œç´¢çµæœã‚’ä¸ãˆã€è³ªå•ã¸ã®å›ç­”ã‚’ç”Ÿæˆ\n\nã“ã†ã—ã¦LLMã®å¤§é‡çŸ¥è­˜ä¿æŒã«åŠ ãˆã€æœ€æ–°ã®ãƒ­ãƒ¼ã‚«ãƒ«çŸ¥è¦‹ã‚’æ´»ç”¨ã§ãã‚‹ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰è¨­è¨ˆãŒæˆã‚Šç«‹ã¡ã¾ã™ã€‚\n\nï¼ˆæ–‡ç« ã§å›³è§£ã‚¤ãƒ¡ãƒ¼ã‚¸æ¡ˆï¼š  \nã€Œè³ªå•å…¥åŠ› â†’ ãƒ™ã‚¯ãƒˆãƒ«åŸ‹ã‚è¾¼ã¿ â†’ Difyæ¤œç´¢ â†’ é–¢é€£æ–‡æ›¸ãƒãƒ£ãƒ³ã‚¯æŠ½å‡º â†’ Gemini LLMã¸æä¾› â†’ è‡ªç„¶è¨€èªå›ç­”ç”Ÿæˆã€ï¼‰\n\n---\n\n## ğŸ”§ æŠ€è¡“çš„ãªä»•çµ„ã¿ï¼šRAGã¨BigQueryè©•ä¾¡ãƒ­ã‚°åŸºç›¤ã®è©³ç´°\n\n### 1. æ–‡ç« ãƒãƒ£ãƒ³ã‚¯ã®å†å¸°åˆ†å‰²ã¨é‡è¤‡ãƒãƒ£ãƒ³ã‚¯æˆ¦ç•¥  \né•·å¤§ãªè«–æ–‡ã‚„å ±å‘Šã‚’å˜ç´”ã«åˆ†å‰²ã™ã‚‹ã¨ã€åˆ‡ã‚Œç›®ã§æ„å‘³ãŒã‚ã„ã¾ã„ã«ãªã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚å†å¸°çš„ãªåˆ†å‰²ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã§å°å˜ä½ã«åˆ†å‰²ã—ã¤ã¤ã€å‰å¾Œã®ãƒãƒ£ãƒ³ã‚¯ã‚’é‡è¤‡ã•ã›ã‚‹ã“ã¨ã§æ–‡è„ˆã‚’ä¿æŒã€‚  \nã“ã®æ‰‹æ³•ã¯Difyãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ä¸Šã§GUIæ“ä½œã‚‚ã—ãã¯APIçµŒç”±ã§è¨­å®šå¯èƒ½ã§ã™ã€‚\n\n### 2. åŸ‹ã‚è¾¼ã¿ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢  \nãƒãƒ£ãƒ³ã‚¯æ–‡æ›¸ã¯BERTç³»åŸ‹ã‚è¾¼ã¿ãƒ¢ãƒ‡ãƒ«ã§ãƒ™ã‚¯ãƒˆãƒ«åŒ–ã•ã‚Œã€æ¤œç´¢æ™‚ã¯cosé¡ä¼¼åº¦ç­‰ã§é–¢é€£åº¦ã‚¹ã‚³ã‚¢ã‚’ç®—å‡ºã€‚é«˜é€Ÿãªé¡ä¼¼åº¦æ¤œç´¢ã¯ANNã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ï¼ˆHNSWãªã©ï¼‰ã§ã‚¹ã‚±ãƒ¼ãƒ«ã—ã¾ã™ã€‚\n\n### 3. BigQueryä¸Šã®æ¨è«–ãƒ»è©•ä¾¡ãƒ­ã‚°ç®¡ç†  \nGEM Labã®è†¨å¤§ãªæ¨è«–ãƒ‡ãƒ¼ã‚¿ã‚’æ‰±ã†ãŸã‚BigQueryã«ä¸‹è¨˜ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’è¨­è¨ˆã—ã¾ã—ãŸï¼š\n\n- **InferenceLog**ï¼šè³ªå•æ–‡ã€æ¤œç´¢ãƒãƒ£ãƒ³ã‚¯IDã€Geminiå¿œç­”æ–‡ã€ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—\n- **ResponseMetadata**ï¼šGeminiã®ç”Ÿæˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼ˆæ¸©åº¦ã€æœ€å¤§ãƒˆãƒ¼ã‚¯ãƒ³æ•°ç­‰ï¼‰\n- **UserFeedback**ï¼šèª¿æŸ»å“¡ã‹ã‚‰ã®è©•ä¾¡ã‚¹ã‚³ã‚¢ã‚„ã‚³ãƒ¡ãƒ³ãƒˆ\n\nã“ã‚Œã‚‰ã‚’çµåˆåˆ†æã—ã€å¯¾è©±æ€§èƒ½ã®ç¶™ç¶šçš„æ”¹å–„ã¨ç•°å¸¸æ¤œçŸ¥ã€æ€§èƒ½ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã«æ´»ç”¨ã—ã¦ã„ã¾ã™ã€‚\n\n---\n\n## ğŸ§ª å®Ÿè·µç·¨ï¼šDifyã§ã®ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹æ§‹ç¯‰ã¨Pythonã«ã‚ˆã‚‹é–¢é€£æ¤œç´¢ï¼‹å¿œç­”ç”Ÿæˆ\n\n### 1. Dify GUIã§ã®ãƒ†ã‚­ã‚¹ãƒˆã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ»ãƒãƒ£ãƒ³ã‚¯è­˜åˆ¥è¨­å®šæ‰‹é †\n\n```bash\n# Difyã¸ãƒ­ã‚°ã‚¤ãƒ³å¾Œã®åŸºæœ¬æ“ä½œæ¦‚è¦\n# 1. ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ä½œæˆ â†’ [æ–°è¦ä½œæˆ]ã‚¯ãƒªãƒƒã‚¯\n# 2. ãƒã‚¤ã‚ªé–¢é€£æ–‡æ›¸ã‚’PDFãƒ»ãƒ†ã‚­ã‚¹ãƒˆã§ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰\n# 3. ãƒãƒ£ãƒ³ã‚¯ã‚µã‚¤ã‚ºï¼ˆä¾‹ï¼š500ãƒˆãƒ¼ã‚¯ãƒ³ï¼‰ã¨ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—ç‡ï¼ˆä¾‹ï¼š20%ï¼‰ã‚’è¨­å®š\n# 4. è‡ªå‹•ãƒãƒ£ãƒ³ã‚¯ç”Ÿæˆãƒœã‚¿ãƒ³æŠ¼ä¸‹ â†’ åˆ†å‰²å‡¦ç†å®Ÿè¡Œé–‹å§‹\n# 5. åŸ‹ã‚è¾¼ã¿ãƒ™ã‚¯ãƒˆãƒ«ç”Ÿæˆ&ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä½œæˆã®é€²æ—ã‚’å¾…ã¤\n# 6. æ¤œç´¢è¨­å®šã§é¡ä¼¼åº¦é–¾å€¤ã‚„çµæœå–å¾—ä»¶æ•°ã‚’èª¿æ•´\n```\n\n> GUIã®ãŸã‚ç´°éƒ¨ã‚¹ãƒ†ãƒƒãƒ—ã¯ç”»é¢ã‚­ãƒ£ãƒ—ãƒãƒ£ä»˜ãã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå‚ç…§ãŒãŠã™ã™ã‚ã§ã™ã€‚\n\n### 2. Pythonæ“¬ä¼¼ã‚³ãƒ¼ãƒ‰ã§ã®åŸ‹ã‚è¾¼ã¿æ¤œç´¢ã¨Gemini APIå‘¼ã³å‡ºã—ä¾‹\n\n```python\nimport requests\nimport json\n\n# Difyã®APIã‚­ãƒ¼ã¨Gemini LLMã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ\nDIFY_API_URL = \"https://api.dify.ai/v1/search\"\nDIFY_API_KEY = \"your_dify_api_key\"\n\nGEMINI_API_URL = \"https://vertexai.googleapis.com/v1/projects/{project_id}/locations/{location}/models/{model}:predict\"\nGEMINI_API_KEY = \"your_gemini_api_key\"\n\ndef search_chunks(question: str):\n    headers = {\n        \"Authorization\": f\"Bearer {DIFY_API_KEY}\",\n        \"Content-Type\": \"application/json\",\n    }\n    payload = {\n        \"query\": question,\n        \"top_k\": 5\n    }\n    response = requests.post(DIFY_API_URL, headers=headers, json=payload)\n    response.raise_for_status()\n    return response.json()  # æ¤œç´¢ãƒãƒ£ãƒ³ã‚¯ã®è©³ç´°ãƒªã‚¹ãƒˆ\n\ndef generate_answer(context_chunks: list, question: str):\n    prompt = f\"ä»¥ä¸‹ã®æƒ…å ±ã‚’å‚è€ƒã«è³ªå•ã«å›ç­”ã—ã¦ãã ã•ã„ï¼š\\n{''.join([c['text'] for c in context_chunks])}\\nè³ªå•ï¼š{question}\\nå›ç­”ï¼š\"\n    headers = {\n        \"Authorization\": f\"Bearer {GEMINI_API_KEY}\",\n        \"Content-Type\": \"application/json\",\n    }\n    data = {\n        \"instances\": [{\"content\": prompt}],\n        \"parameters\": {\n            \"temperature\": 0.3,\n            \"maxOutputTokens\": 512\n        }\n    }\n    response = requests.post(GEMINI_API_URL, headers=headers, json=data)\n    response.raise_for_status()\n    pred = response.json()\n    return pred['predictions'][0]['content']\n\nif __name__ == \"__main__\":\n    user_question = \"RNA-seqãƒ‡ãƒ¼ã‚¿ã®æ­£è¦åŒ–æ–¹æ³•ã¯ä½•ã§ã™ã‹ï¼Ÿ\"\n    search_result = search_chunks(user_question)\n    context = search_result.get(\"results\", [])\n    answer = generate_answer(context, user_question)\n    print(\"=== è³ªå• ===\")\n    print(user_question)\n    print(\"=== å›ç­” ===\")\n    print(answer)\n```\n\n- **ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆä¾‹**  \n```\nproject-root/\nâ”œâ”€â”€ main.py             # ä¸Šè¨˜ã‚³ãƒ¼ãƒ‰\nâ”œâ”€â”€ requirements.txt    # requestsã‚„GCPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè¨˜è¼‰\nâ””â”€â”€ README.md\n```\n\n- **ä¾å­˜é–¢ä¿‚**  \n```\nrequests==2.28.1\n```\n\n---\n\n## ğŸš€ å¿œç”¨ãƒ»ç™ºå±•ãƒ»å®Ÿç”¨ä¾‹ï¼šãƒã‚¤ã‚ªãƒ‡ãƒ¼ã‚¿è§£æã¨Next.jsã«ã‚ˆã‚‹UIæœ€é©åŒ–\n\n### ãƒã‚¤ã‚ªã‚¤ãƒ³ãƒ•ã‚©ãƒ¡ãƒ†ã‚£ã‚¯ã‚¹ã¸ã®é©ç”¨ä¾‹  \n- ã‚²ãƒãƒ ãƒ»RNA-seqè§£æè«–æ–‡ã®RAGæ¤œç´¢ã§ã€è§£ææ–¹æ³•ã‚„ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å³æ™‚å›ç­”ã‚’å®Ÿç¾ã€‚èª¿æŸ»å“¡ã¯æœªçŸ¥ç”Ÿå‘½ã‚²ãƒãƒ ã®ç‰¹å¾´æŠŠæ¡ã«æ´»ç”¨å¯èƒ½ã€‚  \n- BigQueryã®æ¨è«–ãƒ»è©•ä¾¡ãƒ­ã‚°ã‹ã‚‰ã€è³ªå•å‚¾å‘ã‚„Geminiå¿œç­”å“è³ªã‚’åˆ†æã—ç¶™ç¶šçš„ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ã€‚  \n\n### BigQueryã‚¹ã‚­ãƒ¼ãƒè¨­è¨ˆä¾‹ï¼ˆæ¨è«–ãƒ»ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ»è©•ä¾¡ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰\n\n```sql\nCREATE TABLE InferenceLog (\n    id STRING PRIMARY KEY,\n    user_query STRING,\n    retrieved_chunks ARRAY<STRING>,\n    gemini_response STRING,\n    timestamp TIMESTAMP\n);\n\nCREATE TABLE ResponseMetadata (\n    inference_id STRING,\n    temperature FLOAT64,\n    max_tokens INT64,\n    model_version STRING,\n    FOREIGN KEY (inference_id) REFERENCES InferenceLog(id)\n);\n\nCREATE TABLE UserFeedback (\n    inference_id STRING,\n    feedback_score INT64, -- 1-5è©•ä¾¡\n    comment STRING,\n    timestamp TIMESTAMP,\n    FOREIGN KEY (inference_id) REFERENCES InferenceLog(id)\n);\n```\n\n### Next.js proxy.tsã§ã®ãƒ—ãƒªãƒ•ã‚§ãƒƒãƒåˆ¶å¾¡ã‚³ãƒ¼ãƒ‰æŠœç²‹\n\n```typescript\n// proxy.ts: Next.js API routeã§Gemini APIå‘¼ã³å‡ºã—ç°¡ç•¥åŒ–ã‹ã¤ãƒ—ãƒªãƒ•ã‚§ãƒƒãƒç„¡åŠ¹åŒ–è¨­å®š\nimport type { NextApiRequest, NextApiResponse } from 'next';\n\nexport const config = {\n  api: {\n    bodyParser: true,\n    externalResolver: true,\n  },\n};\n\nexport default async function handler(req: NextApiRequest, res: NextApiResponse) {\n  // ãƒ—ãƒªãƒ•ã‚§ãƒƒãƒåˆ¶å¾¡ï¼šGETãƒ¡ã‚½ãƒƒãƒ‰æ™‚ã®éå‰°å‘¼å‡ºã—é˜²æ­¢\n  if (req.method === 'GET' && req.headers['x-nextjs-data-prefetch'] === '1') {\n    return res.status(204).end();\n  }\n  \n  // Gemini APIå‘¼ã³å‡ºã—å‡¦ç†ã‚’ã“ã“ã«è¨˜è¿°\n  // ä¾‹: fetchã§POSTé€ä¿¡ã—çµæœã‚’è¿”ã™\n  const response = await fetch(process.env.GEMINI_API_ENDPOINT!, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${process.env.GEMINI_API_KEY}`,\n    },\n    body: JSON.stringify(req.body),\n  });\n  const data = await response.json();\n  res.status(response.status).json(data);\n}\n```\n\n---\n\n## ğŸ“ ã¾ã¨ã‚ï¼ˆTakeawaysï¼‰\n\n- Difyã¨Gemini LLMã®é€£æºã§ã€ãƒã‚¤ã‚ªã‚¤ãƒ³ãƒ•ã‚©ãƒãƒ†ã‚£ã‚¯ã‚¹é ˜åŸŸã®å°‚é–€çŸ¥è­˜ã‚’æ´»ç”¨ã—ãŸRAGãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆã‚’æ‰‹è»½ã«æ§‹ç¯‰å¯èƒ½  \n- æ–‡ç« ãƒãƒ£ãƒ³ã‚¯ã®å†å¸°åˆ†å‰²ãƒ»é‡è¤‡æˆ¦ç•¥ã¨åŸ‹ã‚è¾¼ã¿æ¤œç´¢ã«ã‚ˆã‚Šé«˜åº¦ãªæ–‡è„ˆç†è§£ã‚’å®Ÿç¾  \n- BigQueryã‚’ç”¨ã„ãŸæ¨è«–ãƒ»è©•ä¾¡ãƒ­ã‚°ç®¡ç†ã¯ç¶™ç¶šçš„å“è³ªæ”¹å–„ã®åŸºç›¤ã¨ãªã‚‹  \n- Next.jsã®APIãƒ«ãƒ¼ãƒˆã‚’æ´»ç”¨ã—ãŸWebUIæœ€é©åŒ–ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“å‘ä¸ŠãŒå¯èƒ½  \n- GEM Labã®èª¿æŸ»ç’°å¢ƒã§å¾—ã‚‰ã‚ŒãŸçŸ¥è¦‹ã¯å°†æ¥çš„ãªæœªçŸ¥ç”Ÿå‘½ã®è¿…é€Ÿè§£æãƒ»æ„æ€æ±ºå®šã‚’å¾ŒæŠ¼ã—ã™ã‚‹\n\n---\n\n## â“ FAQ\n\n**Q1: Gemini LLMã‚’ä½¿ã†éš›ã«æ³¨æ„ã™ã¹ãç‚¹ã¯ï¼Ÿ**  \n- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒˆãƒ¼ã‚¯ãƒ³ç®¡ç†ã‚’å³é‡ã«ã—ã€ä¸æ­£åˆ©ç”¨ã‚’é˜²æ­¢ã—ã¦ãã ã•ã„ã€‚  \n- ãƒ¢ãƒ‡ãƒ«ã®å¿œç­”ç”Ÿæˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯ã‚±ãƒ¼ã‚¹ã«å¿œã˜ã¦èª¿æ•´ã—ã€ç„¡ç”¨ãªé•·æ–‡ç”Ÿæˆã‚’é¿ã‘ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ã€‚  \n\n**Q2: Difyãƒãƒ¼ã‚³ãƒ¼ãƒ‰ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®ç„¡æ–™ãƒ—ãƒ©ãƒ³ã§åˆ¶é™ã¯ï¼Ÿ**  \n- ä¸€éƒ¨æ©Ÿèƒ½åˆ¶é™ã‚„åŒæ™‚åˆ©ç”¨ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°åˆ¶é™ãŒã‚ã‚Šã¾ã™ã€‚å¤§è¦æ¨¡é‹ç”¨æ™‚ã¯æœ‰æ–™ãƒ—ãƒ©ãƒ³æ¤œè¨ã‚’æ¨å¥¨ã—ã¾ã™ã€‚  \n\n**Q3: BigQueryã®æ–™é‡‘ã‚’æŠ‘ãˆã‚‹å·¥å¤«ã¯ï¼Ÿ**  \n- ãƒ­ã‚°ã¯å¿…è¦æœ€å°é™ã«çµã‚Šã€ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ‹ãƒ³ã‚°ã‚„ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°ã‚’æ´»ç”¨ã—ã¦ã‚¯ã‚¨ãƒªã‚³ã‚¹ãƒˆä½æ¸›ã‚’å›³ã‚Šã¾ã™ã€‚  \n\n**Q4: ä»–è¨€èªã‚„ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã®å¿œç”¨ã¯ï¼Ÿ**  \n- REST APIãƒ™ãƒ¼ã‚¹ãªã®ã§ã€Pythonä»¥å¤–ã«Node.jsã‚„Goãªã©ä»»æ„è¨€èªã‹ã‚‰ã®é€£æºãŒå¯èƒ½ã§ã™ã€‚\n\n---\n\n## ğŸ”— å‚è€ƒæ–‡çŒ®ãƒ»ãƒªãƒ³ã‚¯é›†\n\n- [Dify å…¬å¼ã‚µã‚¤ãƒˆ](https://www.dify.ai/)  \n- [Google Cloud Vertex AI Gemini LLM](https://cloud.google.com/vertex-ai/docs/generative-ai/learn/gemini-models)  \n- [BigQuery å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://cloud.google.com/bigquery/docs)  \n- [Next.js API Routes](https://nextjs.org/docs/api-routes/introduction)  \n- éå»ã®é–¢é€£Qiitaè¨˜äº‹  \n  - [Pythonã§Qiitaè¨˜äº‹æŠ•ç¨¿ã‚’è‡ªå‹•åŒ–ã™ã‚‹ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³æ§‹ç¯‰](https://qiita.com/cocokara_bioinfo/items/4bd415ef2f801497951e)  \n  - [Python Ã— GitHub Actions ã§ã®Qiitaè‡ªå‹•æŠ•ç¨¿ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³](https://qiita.com/cocokara_bioinfo/items/7440c80d8e6a98177957)  \n\n---\n\nGEM Labã®èª¿æŸ»æ´»å‹•ã¯ä»Šå¾Œã‚‚AIã¨ã‚¯ãƒ©ã‚¦ãƒ‰æŠ€è¡“ã‚’é§†ä½¿ã—ãŸæœªçŸ¥ç”Ÿå‘½è§£æé«˜åº¦åŒ–ã‚’ç›®æŒ‡ã—ã¾ã™ã€‚æ¬¡å›ã¯Gemini LLMã®ã‚«ã‚¹ã‚¿ãƒ ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ã‚„å¤šè¨€èªãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆå±•é–‹ã«è¿«ã‚‹äºˆå®šã§ã™ã€‚ä¹ã†ã”æœŸå¾…ãã ã•ã„ã€‚",
    "review_result": {
      "technical_accuracy": "è¨˜äº‹å…¨ä½“ã‚’é€šã˜ã¦ã€Difyãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®æ©Ÿèƒ½èª¬æ˜ã€Gemini LLMã®ç‰¹å¾´ã€RAGã®æŠ€è¡“çš„ä»•çµ„ã¿ã€BigQueryè©•ä¾¡ãƒ­ã‚°åŸºç›¤ã®è¨­è¨ˆã¯æœ€æ–°ã‹ã¤æ­£ç¢ºã§ååˆ†ã«è£ä»˜ã‘ã‚‰ã‚ŒãŸæƒ…å ±ã¨ãªã£ã¦ã„ã‚‹ã€‚APIå‘¼ã³å‡ºã—ã‚³ãƒ¼ãƒ‰ä¾‹ã‚„SQLè¨­è¨ˆä¾‹ã‚‚æŠ€è¡“çš„å†…å®¹ã«èª¤ã‚Šã¯ãªãå®Ÿç”¨çš„ã§ã‚ã‚‹ã€‚",
      "structure_quality": "å°å…¥ã‹ã‚‰æŠ€è¡“èª¬æ˜ã€å®Ÿè£…ã‚¬ã‚¤ãƒ‰ã€å¿œç”¨äº‹ä¾‹ã€ã¾ã¨ã‚ã€FAQã€å‚è€ƒæ–‡çŒ®ã¾ã§æ®µéšçš„ã«è«–ç†çš„ã«æ§‹æˆã•ã‚Œã¦ãŠã‚Šã€åˆå¿ƒè€…ã‹ã‚‰ä¸­ç´šè€…ã¾ã§ç†è§£ã—ã‚„ã™ã„æµã‚ŒãŒç¢ºä¿ã•ã‚Œã¦ã„ã‚‹ã€‚ã‚³ãƒ¼ãƒ‰é…ç½®ã‚‚é©åˆ‡ã§æ®µéšçš„ç†è§£ã«å¯„ä¸ã—ã¦ã„ã‚‹ã€‚",
      "code_completeness": "Pythonã‚³ãƒ¼ãƒ‰ãƒ»SQLå®šç¾©ãƒ»Next.jsã‚³ãƒ¼ãƒ‰ä¾‹ã¯å®Ÿç”¨ãƒ¬ãƒ™ãƒ«ã§å…·ä½“çš„ã€‚APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆURLã‚„APIã‚­ãƒ¼ã¯ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã§ç’°å¢ƒä¾å­˜è¦ç´ ã‚‚ã‚ã‚‹ãŒã€å¿…è¦ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆæ§‹é€ ã‚„å¿œç­”å‡¦ç†ã¯å®Ÿä¾‹çš„ã«ç¤ºã•ã‚Œã¦ã„ã‚‹ã€‚Dify GUIæ“ä½œã¯ç”»é¢ã‚­ãƒ£ãƒ—ãƒãƒ£ãªã—ã ãŒè£œè¶³ã‚‚ã‚ã‚Šè¨±å®¹ç¯„å›²ã€‚",
      "word_count": 5200,
      "section_completeness": "æ§‹æˆãƒ—ãƒ©ãƒ³ã®ã™ã¹ã¦ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒå«ã¾ã‚Œã¦ãŠã‚Šã€FAQã‚„å‚è€ƒæ–‡çŒ®ãƒ»ãƒªãƒ³ã‚¯é›†ã‚‚å®Œå‚™ã•ã‚Œã¦ã„ã‚‹ã€‚ç« ç«‹ã¦ã‚‚ãƒ—ãƒ©ãƒ³é€šã‚Šã§æŠœã‘è½ã¡ãªã—ã€‚",
      "continuity": "éå»è¨˜äº‹ã®Qiitaè‡ªå‹•æŠ•ç¨¿ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³æ§‹ç¯‰ã‚’è¸ã¾ãˆãŸæŠ€è¡“ã®ç™ºå±•ã¨ã—ã¦Difyã‚„Gemini LLMåˆ©ç”¨ã®ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ãƒ»AIé€£æºéƒ¨åˆ†ã‚’æ‹¡å……ã—ã€ä¸€é€£ã®æŠ€è¡“ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãŒæ˜ç¢ºã«å¼•ãç¶™ãŒã‚Œã¦ã„ã‚‹ã€‚",
      "trending_features_reflection": "å¤šå±¤çš„ã‚³ãƒ¼ãƒ‰æç¤ºã€å°‚é–€é ˜åŸŸã‚·ãƒŠãƒªã‚ªå¼·èª¿ã€FAQå……å®Ÿã€å‚è€ƒæ–‡çŒ®ãƒªãƒ³ã‚¯è±Šå¯Œã¨ã„ã£ãŸä¼¸ã³ã¦ã„ã‚‹è¨˜äº‹ã®ç‰¹å¾´ã‚’çš„ç¢ºã«åæ˜ ã—ã¦ã„ã‚‹ã€‚ä¸­ç´šèª­è€…ã‚’å¿µé ­ã«ç½®ã„ãŸã‚ã‹ã‚Šã‚„ã™ãå®Ÿç”¨çš„ãªå±•é–‹ã€‚",
      "overall_score": 9,
      "improvements": [
        "Difyã®GUIæ“ä½œæ‰‹é †ã«ç”»é¢ã‚­ãƒ£ãƒ—ãƒãƒ£ã‚„ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã‚’è¿½åŠ ã—ã€åˆå¿ƒè€…ã®ç†è§£ã‚’ã•ã‚‰ã«ä¿ƒé€²ã™ã‚‹",
        "APIã‚­ãƒ¼ç®¡ç†ã‚„ç’°å¢ƒå¤‰æ•°è¨­å®šã®æ³¨æ„ç‚¹ã‚’å†’é ­ã¾ãŸã¯ã‚³ãƒ¼ãƒ‰èª¬æ˜ã«å¼·èª¿ã™ã‚‹ã“ã¨ã§ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é¢ã®æ„è­˜å‘ä¸Šã‚’å›³ã‚‹",
        "Gemini APIãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ»å¿œç­”ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ä¾‹ã‚’è¿½åŠ ã—ã€å®Ÿé‹ç”¨æ™‚ã®å …ç‰¢æ€§ã‚’ç¤ºã™",
        "BigQueryãƒ†ãƒ¼ãƒ–ãƒ«è¨­è¨ˆã«ã‚µãƒ³ãƒ—ãƒ«ã‚¯ã‚¨ãƒªã‚„å®Ÿéš›ã®åˆ†æä¾‹ã‚’è£œè¶³ã—ã¦ã€èª­è€…ã®å¿œç”¨æ„æ¬²ã‚’ã‚ˆã‚Šé«˜ã‚ã‚‹"
      ],
      "approval": true
    }
  },
  "check_result": null,
  "act_result": null,
  "improvements": [],
  "created_at": "2025-12-07T20:06:19.404356",
  "updated_at": "2025-12-07T20:08:00.884188",
  "completed_at": null
}